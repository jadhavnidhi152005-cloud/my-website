<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Cart</title>
<style>
  body {
    background-color: #fff8f8;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }

  h1 {
    margin-top: 30px;
    color: #333;
  }

  table {
    width: 80%;
    margin: 30px auto;
    border-collapse: collapse;
    background: white;
  }

  th, td {
    padding: 15px;
    border: 1px solid #ccc;
    font-size: 18px;
  }

  th {
    background-color: green;
    color: black;
  }

  td span.action {
    cursor: pointer;
    padding: 5px 10px;
    font-weight: bold;
    margin: 0 5px;
    border-radius: 5px;
    color: white;
    background-color: #ff7b7b;
  }

  td span.action:hover {
    background-color: #ff4c4c;
  }

  .total {
    font-size: 20px;
    font-weight: bold;
    margin-top: 20px;
  }

  button, a {
    font-size: 18px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background-color: green;
    color: black;
    cursor: pointer;
    margin: 10px;
    text-decoration: none;
    display: inline-block;
  }

  button:hover, a:hover {
    background-color: #ffb6c1;
    color: white;
  }
</style>
</head>

<body>
  <h1>Your Cart</h1>

<table id="cartTable">
<thead>
  <tr>
     <th>Item Name</th>
     <th>Price (₹)</th>
     <th>Quantity</th>
     <th>Actions</th>
  </tr>
</thead>
<tbody id="cartBody"></tbody>
</table>

<div class="total" id="totalAmount">Total: ₹0</div>

<div>
  <button onclick="clearCart()">Clear Cart</button>
  <a href="products.html">⬅ Back to Menu</a>
</div>

<script>
  function loadCart() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const cartBody = document.getElementById("cartBody");
  const totalAmount = document.getElementById("totalAmount");
  cartBody.innerHTML = "";
  let total = 0;

  if (cart.length === 0) {
  cartBody.innerHTML = "<tr><td colspan='4'>Your cart is empty </td></tr>";
  totalAmount.innerText = "Total: ₹0";
  return;
   }

  cart.forEach((item, index) => {
  const row = document.createElement("tr");
  row.innerHTML = `
    <td>${item.name}</td>
    <td>₹${item.price}</td>
    <td>${item.quantity || 1}</td>
    <td>
       <span class="action" onclick="decreaseQuantity(${index})">-</span>
       <span class="action" onclick="increaseQuantity(${index})">+</span>
    </td>
      `;
        cartBody.appendChild(row);
        total += parseFloat(item.price) * (item.quantity || 1);
      });

      totalAmount.innerText = "Total: ₹" + total;
    }

    function increaseQuantity(index) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart[index].quantity = (cart[index].quantity || 1) + 1;
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }

    function decreaseQuantity(index) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      if (cart[index].quantity > 1) {
        cart[index].quantity -= 1;
      } else {
        cart.splice(index, 1);
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }

    function deleteItem(index) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }

    function clearCart() {
      localStorage.removeItem("cart");
      loadCart();
    }

    loadCart();
  </script>
</body>
</html>